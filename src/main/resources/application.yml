spring:
  application:
    name: rate-limiter
  data:
    redis:
      host: localhost
      port: 6379
      timeout: 60000

management:
  endpoints:
    web:
      exposure:
        include: health, info, prometheus, metrics
  endpoint:
    health:
      show-details: always
  metrics:
    tags:
      application: ${spring.application.name}


server:
  port: 8080
  compression:
    enabled: true
  http2:
    enabled: true


ratelimiter:
  default:
    algorithm: TOKEN_BUCKET
    capacity: 10
    refill-rate: 10
    refill-period-seconds: 60
  redis:
    key-prefix: "ratelimit"
    config-prefix: "config"
    ttl-seconds: 3600
  cache:
    config-ttl-seconds: 60     # Cache config for 60 seconds
    max-size: 10000             # Maximum cache entries
    enable-stats: true          # Enable cache statistics
  performance:
    metrics-enabled: true
    detailed-logging: false

logging:
  level:
    com.ratelimiter: WARN
    org.springframework.data.redis: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"